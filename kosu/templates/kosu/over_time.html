{% load static %}
<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{title}}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="{% static 'kosu/css/bootstrap.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'kosu/css/custom.css' %}">
</head>
<body class="container">
  <h1 class="display-4 text-primary">{{title}}</h1>
  <p class="h6 no-wrap">
    <a href="{% url 'kosu_main' %}" >工数MENUへ</a>　　
    <a href="{% url 'main' %}">メインMENUへ</a>
  </p>
  <form action="{% url 'over_time' %}" method="post">
  {% csrf_token %}
  <table class="table table-bordered border-dark">
    <p>表示月指定</p>
    <div class="number-input-group">
      {{form.year}}年　{{form.month}}月　　
      <input type="submit" value="表示切替" name="time_update" class="btn btn-blue7 mt-2">
    </div>
    <p>　</p>
    <p>
      <svg width="100" height="40">
        <rect x="0" y="0" width="90" height="40" fill="#33ff00" />
      </svg>
      工数入力OK
    </p>
    <tr><p class="text-center display-6">月残業合計：{{over_time_total}}H</p></tr>
    <tr><p>　</p></tr>
    <tr>
      <th class="table-pink"><div class="text-center">日</div></th>
      <th><div class="text-center">月</div></th>
      <th><div class="text-center">火</div></th>
      <th><div class="text-center">水</div></th>
      <th><div class="text-center">木</div></th>
      <th><div class="text-center">金</div></th>
      <th class="table-light_blue"><div class="text-center">土</div></th>
    </tr>

    <tr>
      {% for i in day_list|slice:":7" %}
        {% if forloop.first %}
          <td class="table-pink">
        {% else %}
          {% if forloop.last %}
            <td class="table-light_blue">
          {% else %}
            <td>
          {% endif %}
        {% endif %}
          <div class="text-center fw-bold">{{i}}</div>
        </td>
      {% endfor %}
    </tr>

    <tr>
      {% for i in over_time_list|slice:":7" %}
      {% with inp=OK_NG_list.pop %}
      {% if forloop.first and inp == False %}
      <td class="table-pink">
      {% else %}
      {% if forloop.last and inp == False %}
      <td class="table-light_blue">
      {% else %}
      {% if inp == True %}
      <td class="table-green">
      {% else %}
      <td>
      {% endif %}
      {% endif %}
      {% endif %}
        <div class="text-center display-6">{{i|floatformat:2}}</div>
      </td>
      {% endwith %}
      {% endfor %}
    </tr>

    <tr>
      {% for i in day_list|slice:"7:14" %}
        {% if forloop.first %}
          <td class="table-pink">
        {% else %}
          {% if forloop.last %}
            <td class="table-light_blue">
          {% else %}
            <td>
          {% endif %}
        {% endif %}
          <div class="text-center fw-bold">{{i}}</div>
        </td>
      {% endfor %}
    </tr>

    <tr>
      {% for i in over_time_list|slice:"7:14" %}
      {% with inp=OK_NG_list.pop %}
      {% if forloop.first and inp == False %}
      <td class="table-pink">
      {% else %}
      {% if forloop.last and inp == False %}
      <td class="table-light_blue">
      {% else %}
      {% if inp == True %}
      <td class="table-green">
      {% else %}
      <td>
      {% endif %}
      {% endif %}
      {% endif %}
        <div class="text-center display-6">{{i|floatformat:2}}</div>
      </td>
      {% endwith %}
      {% endfor %}
    </tr>

    <tr>
      {% for i in day_list|slice:"14:21" %}
        {% if forloop.first %}
          <td class="table-pink">
        {% else %}
          {% if forloop.last %}
            <td class="table-light_blue">
          {% else %}
            <td>
          {% endif %}
        {% endif %}
          <div class="text-center fw-bold">{{i}}</div>
        </td>
      {% endfor %}
    </tr>

    <tr>
      {% for i in over_time_list|slice:"14:21" %}
      {% with inp=OK_NG_list.pop %}
      {% if forloop.first and inp == False %}
      <td class="table-pink">
      {% else %}
      {% if forloop.last and inp == False %}
      <td class="table-light_blue">
      {% else %}
      {% if inp == True %}
      <td class="table-green">
      {% else %}
      <td>
      {% endif %}
      {% endif %}
      {% endif %}
        <div class="text-center display-6">{{i|floatformat:2}}</div>
      </td>
      {% endwith %}
      {% endfor %}
    </tr>

    <tr>
      {% for i in day_list|slice:"21:28" %}
        {% if forloop.first %}
          <td class="table-pink">
        {% else %}
          {% if forloop.last %}
            <td class="table-light_blue">
          {% else %}
            <td>
          {% endif %}
        {% endif %}
          <div class="text-center fw-bold">{{i}}</div>
        </td>
      {% endfor %}
    </tr>

    <tr>
      {% for i in over_time_list|slice:"21:28" %}
      {% with inp=OK_NG_list.pop %}
      {% if forloop.first and inp == False %}
      <td class="table-pink">
      {% else %}
      {% if forloop.last and inp == False %}
      <td class="table-light_blue">
      {% else %}
      {% if inp == True %}
      <td class="table-green">
      {% else %}
      <td>
      {% endif %}
      {% endif %}
      {% endif %}
        <div class="text-center display-6">{{i|floatformat:2}}</div>
      </td>
      {% endwith %}
      {% endfor %}
    </tr>

    {% if day_list.28 != '' %}
    <tr>
      {% for i in day_list|slice:"28:35" %}
        {% if forloop.first %}
          <td class="table-pink">
        {% else %}
          {% if forloop.last %}
            <td class="table-light_blue">
          {% else %}
            <td>
          {% endif %}
        {% endif %}
          <div class="text-center fw-bold">{{i}}</div>
        </td>
      {% endfor %}
    </tr>

    <tr>
      {% for i in over_time_list|slice:"28:35" %}
      {% with inp=OK_NG_list.pop %}
      {% if forloop.first and inp == False %}
      <td class="table-pink">
      {% else %}
      {% if forloop.last and inp == False %}
      <td class="table-light_blue">
      {% else %}
      {% if inp == True %}
      <td class="table-green">
      {% else %}
      <td>
      {% endif %}
      {% endif %}
      {% endif %}
        <div class="text-center display-6">{{i|floatformat:2}}</div>
      </td>
      {% endwith %}
      {% endfor %}
    </tr>
    {% endif %}

    {% if day_list.35 != '' %}
    <tr>
      {% for i in day_list|slice:"35:37" %}
        {% if forloop.first %}
          <td class="table-pink">
        {% else %}
          <td>
        {% endif %}
          <div class="text-center fw-bold">{{i}}</div>
        </td>
      {% endfor %}
    </tr>

    <tr>
      {% for i in over_time_list|slice:"35:37" %}
      {% with inp=OK_NG_list.pop %}
      {% if forloop.first and inp == False %}
      <td class="table-pink">
      {% else %}
      {% if inp == True %}
      <td class="table-green">
      {% else %}
      <td>
      {% endif %}
      {% endif %}
        <div class="text-center display-6">{{i|floatformat:2}}</div>
      </td>
      {% endwith %}
      {% endfor %}
    </tr>
    {% endif %}
  </table>
</body>
</html>